<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8">
    <title>Inscription — Plateforme Tournois &amp; Items</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body class="bg-neutral-950 text-neutral-100 antialiased selection:bg-indigo-500/30 selection:text-indigo-200">
    <!-- Background pattern -->
    <div class="min-h-screen relative overflow-hidden">
        <!-- Gradient background -->
        <div class="absolute inset-0 bg-[radial-gradient(ellipse_at_top,rgba(99,102,241,0.1),transparent_50%)]"></div>
        
        <!-- Content -->
        <div class="relative z-10 min-h-screen flex items-center justify-center p-4">
            <!-- Registration Card -->
            <div class="w-full max-w-md">
                <!-- Card -->
                <div class="bg-white/5 backdrop-blur-sm border border-white/10 rounded-2xl p-8 shadow-2xl">
                    <!-- Header -->
                    <div class="text-center mb-8">
                        <h1 class="text-2xl font-semibold tracking-tight mb-2">Créer un compte</h1>
                        <p class="text-neutral-400 text-sm">Rejoignez notre communauté de joueurs</p>
                    </div>

                    <!-- Form -->
                    <form id="register-form" class="space-y-6">
                        <!-- Email Field -->
                        <div>
                            <label for="email" class="block text-sm font-medium text-neutral-300 mb-2">
                                Email <span class="text-red-400">*</span>
                            </label>
                            <input
                                type="email"
                                id="email"
                                name="email"
                                required
                                class="w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-sm placeholder:text-neutral-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-colors"
                                placeholder="votre@email.com"
                            />
                            <div id="email-error" class="hidden mt-2 text-sm text-red-400"></div>
                        </div>

                        <!-- Password Field -->
                        <div>
                            <label for="password" class="block text-sm font-medium text-neutral-300 mb-2">
                                Mot de passe <span class="text-red-400">*</span>
                            </label>
                            <div class="relative">
                                <input
                                    type="password"
                                    id="password"
                                    name="password"
                                    required
                                    class="w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-sm placeholder:text-neutral-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-colors pr-12"
                                    placeholder="Votre mot de passe"
                                />
                                <button
                                    type="button"
                                    id="toggle-password"
                                    class="absolute right-3 top-1/2 -translate-y-1/2 text-neutral-400 hover:text-neutral-300 transition-colors"
                                >
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-eye" id="eye-open">
                                        <path d="M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"></path>
                                        <circle cx="12" cy="12" r="3"></circle>
                                    </svg>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-eye-off hidden" id="eye-closed">
                                        <path d="M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49"></path>
                                        <path d="M14.084 14.158a3 3 0 0 1-4.242-4.242"></path>
                                        <path d="M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143"></path>
                                        <path d="m2 2 20 20"></path>
                                    </svg>
                                </button>
                            </div>

                            <!-- Password Validation -->
                            <div class="mt-3 space-y-2">
                                <div class="flex items-center gap-2 text-xs">
                                    <span id="length-check" class="text-red-400">✗</span>
                                    <span class="text-neutral-400">Au moins 8 caractères</span>
                                </div>
                                <div class="flex items-center gap-2 text-xs">
                                    <span id="case-check" class="text-red-400">✗</span>
                                    <span class="text-neutral-400">Une majuscule et une minuscule</span>
                                </div>
                                <div class="flex items-center gap-2 text-xs">
                                    <span id="number-check" class="text-red-400">✗</span>
                                    <span class="text-neutral-400">Un chiffre</span>
                                </div>
                                <div class="text-xs text-right">
                                    <span id="password-strength" class="text-red-400">Faible</span>
                                </div>
                            </div>
                        </div>

                        <!-- Display Name Field (Optional) -->
                        <div>
                            <label for="display_name" class="block text-sm font-medium text-neutral-300 mb-2">
                                Nom affiché (optionnel)
                            </label>
                            <input
                                type="text"
                                id="display_name"
                                name="display_name"
                                class="w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-sm placeholder:text-neutral-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-colors"
                                placeholder="Votre pseudo"
                            />
                        </div>

                        <!-- Country Field -->
                        <div>
                            <label for="country" class="block text-sm font-medium text-neutral-300 mb-2">
                                Pays <span class="text-red-400">*</span>
                            </label>
                            <select
                                id="country"
                                name="country"
                                required
                                class="w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-colors"
                            >
                                <option value="">Sélectionnez votre pays</option>
                                <option value="BJ">Bénin</option>
                                <option value="BF">Burkina Faso</option>
                                <option value="CI">Côte d'Ivoire</option>
                                <option value="GW">Guinée-Bissau</option>
                                <option value="ML">Mali</option>
                                <option value="NE">Niger</option>
                                <option value="NG">Nigeria</option>
                                <option value="SN">Sénégal</option>
                                <option value="TG">Togo</option>
                                <option value="FR">France</option>
                            </select>
                            <div id="country-error" class="hidden mt-2 text-sm text-red-400"></div>
                        </div>

                        <!-- Phone Field -->
                        <div>
                            <label for="phone" class="block text-sm font-medium text-neutral-300 mb-2">
                                Téléphone <span class="text-red-400">*</span>
                            </label>
                            <div class="flex gap-2">
                                <select
                                    id="phone-code"
                                    name="phone_code"
                                    class="px-3 py-3 bg-white/5 border border-white/10 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-colors"
                                >
                                    <option value="+229">+229</option>
                                    <option value="+226">+226</option>
                                    <option value="+225">+225</option>
                                    <option value="+245">+245</option>
                                    <option value="+223">+223</option>
                                    <option value="+227">+227</option>
                                    <option value="+234">+234</option>
                                    <option value="+221">+221</option>
                                    <option value="+228">+228</option>
                                    <option value="+33" selected>+33</option>
                                </select>
                                <input
                                    type="tel"
                                    id="phone"
                                    name="phone"
                                    required
                                    class="flex-1 px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-sm placeholder:text-neutral-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-colors"
                                    placeholder="123456789"
                                />
                            </div>
                            <div id="phone-error" class="hidden mt-2 text-sm text-red-400"></div>
                        </div>

                        <!-- UID FreeFire Field -->
                        <div>
                            <label for="uid_freefire" class="block text-sm font-medium text-neutral-300 mb-2">
                                UID Free Fire <span class="text-red-400">*</span>
                            </label>
                            <input
                                type="text"
                                id="uid_freefire"
                                name="uid_freefire"
                                required
                                class="w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-sm placeholder:text-neutral-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-colors"
                                placeholder="123456789"
                                maxlength="12"
                            />
                            <div id="uid-error" class="hidden mt-2 text-sm text-red-400"></div>
                            <p class="mt-1 text-xs text-neutral-500">Votre identifiant unique dans Free Fire</p>
                        </div>

                        <!-- Terms and Conditions -->
                        <div>
                            <div class="flex items-start gap-3">
                                <input
                                    type="checkbox"
                                    id="terms"
                                    name="terms"
                                    required
                                    class="h-4 w-4 mt-1 rounded border border-white/10 bg-white/5 text-indigo-600 focus:ring-indigo-500 focus:ring-2"
                                />
                                <label for="terms" class="text-sm text-neutral-300 leading-relaxed">
                                    J'accepte les 
                                    <button type="button" class="text-indigo-400 hover:text-indigo-300 underline">
                                        Conditions Générales d'Utilisation
                                    </button>
                                    et la 
                                    <button type="button" class="text-indigo-400 hover:text-indigo-300 underline">
                                        Politique de Confidentialité
                                    </button>
                                </label>
                            </div>
                            <div id="terms-error" class="hidden mt-2 text-sm text-red-400"></div>
                        </div>

                        <!-- Submit Button -->
                        <button
                            type="submit"
                            id="submit-btn"
                            disabled
                            class="w-full bg-indigo-600 hover:bg-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-neutral-950 text-white font-medium py-3 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed"
                        >
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-user-plus">
                                <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path>
                                <circle cx="9" cy="7" r="4"></circle>
                                <line x1="19" x2="19" y1="8" y2="14"></line>
                                <line x1="22" x2="16" y1="11" y2="11"></line>
                            </svg>
                            <span id="submit-text">Créer mon compte</span>
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-loader-2 animate-spin hidden" id="loading-spinner">
                                <path d="M21 12a9 9 0 1 1-6.219-8.56"></path>
                            </svg>
                        </button>
                    </form>

                    <!-- Divider -->
                    <div class="mt-8 pt-6 border-t border-white/10">
                        <p class="text-center text-sm text-neutral-400">
                            Déjà un compte ?
                            <button
                                type="button"
                                id="login-link"
                                class="text-indigo-400 hover:text-indigo-300 font-medium transition-colors ml-1"
                            >
                                Se connecter
                            </button>
                        </p>
                    </div>
                </div>

                <!-- Footer -->
                <div class="mt-8 text-center">
                    <p class="text-xs text-neutral-500">© 2024 Arthur project. Tous droits réservés.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Success Toast -->
    <div id="success-toast" class="pointer-events-none fixed top-4 right-4 hidden z-50">
        <div class="rounded-lg bg-emerald-500/10 border border-emerald-400/20 px-4 py-3 text-sm flex items-center gap-3 backdrop-blur-sm">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-check-circle text-emerald-300 flex-shrink-0">
                <path d="M21.801 10A10 10 0 1 1 17 3.335"></path>
                <path d="m9 11 3 3L22 4"></path>
            </svg>
            <span class="text-emerald-200" id="success-message">Inscription réussie !</span>
        </div>
    </div>

    <!-- Error Toast -->
    <div id="error-toast" class="pointer-events-none fixed top-4 right-4 hidden z-50">
        <div class="rounded-lg bg-red-500/10 border border-red-400/20 px-4 py-3 text-sm flex items-center gap-3 backdrop-blur-sm">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-alert-circle text-red-300 flex-shrink-0">
                <circle cx="12" cy="12" r="10"></circle>
                <line x1="12" x2="12" y1="8" y2="12"></line>
                <line x1="12" x2="12.01" y1="16" y2="16"></line>
            </svg>
            <span class="text-red-200" id="error-message">Erreur lors de l'inscription</span>
        </div>
    </div>

    <script>
        // Initialize Lucide icons
        document.addEventListener('DOMContentLoaded', () => {
            if (window.lucide) {
                lucide.createIcons({ attrs: { 'stroke-width': 1.5 } });
            }
        });

        // Form elements
        const form = document.getElementById('register-form');
        const passwordInput = document.getElementById('password');
        const submitBtn = document.getElementById('submit-btn');
        const submitText = document.getElementById('submit-text');
        const loadingSpinner = document.getElementById('loading-spinner');
        const successToast = document.getElementById('success-toast');
        const errorToast = document.getElementById('error-toast');

        // Password toggle
        const togglePasswordBtn = document.getElementById('toggle-password');
        const eyeOpen = document.getElementById('eye-open');
        const eyeClosed = document.getElementById('eye-closed');

        togglePasswordBtn.addEventListener('click', () => {
            const isPassword = passwordInput.type === 'password';
            passwordInput.type = isPassword ? 'text' : 'password';
            eyeOpen.classList.toggle('hidden');
            eyeClosed.classList.toggle('hidden');
        });

        // Password validation elements
        const lengthCheck = document.getElementById('length-check');
        const caseCheck = document.getElementById('case-check');
        const numberCheck = document.getElementById('number-check');
        const strengthIndicator = document.getElementById('password-strength');

        // Real-time password validation
        passwordInput.addEventListener('input', () => {
            const password = passwordInput.value;
            let score = 0;

            // Length check (8+ characters)
            const hasLength = password.length >= 8;
            lengthCheck.textContent = hasLength ? '✓' : '✗';
            lengthCheck.className = hasLength ? 'text-emerald-400' : 'text-red-400';
            if (hasLength) score++;

            // Case check (uppercase and lowercase)
            const hasCase = /[a-z]/.test(password) && /[A-Z]/.test(password);
            caseCheck.textContent = hasCase ? '✓' : '✗';
            caseCheck.className = hasCase ? 'text-emerald-400' : 'text-red-400';
            if (hasCase) score++;

            // Number check
            const hasNumber = /\d/.test(password);
            numberCheck.textContent = hasNumber ? '✓' : '✗';
            numberCheck.className = hasNumber ? 'text-emerald-400' : 'text-red-400';
            if (hasNumber) score++;

            // Update strength indicator
            const strengths = ['Faible', 'Moyen', 'Fort', 'Très fort'];
            const colors = ['text-red-400', 'text-yellow-400', 'text-emerald-400', 'text-emerald-300'];
            
            strengthIndicator.textContent = strengths[score] || 'Faible';
            strengthIndicator.className = colors[score] || 'text-red-400';

            checkFormValidity();
        });

        // Form validation
        function validateEmail(email) {
            const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return re.test(email);
        }

        function validatePassword(password) {
            return password.length >= 8 && 
                   /[a-z]/.test(password) && 
                   /[A-Z]/.test(password) && 
                   /\d/.test(password);
        }

        function validatePhone(phone) {
            return /^\d{8,15}$/.test(phone);
        }

        function validateUID(uid) {
            return /^\d{8,12}$/.test(uid);
        }

        function checkFormValidity() {
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            const country = document.getElementById('country').value;
            const phone = document.getElementById('phone').value;
            const uid = document.getElementById('uid_freefire').value;
            const terms = document.getElementById('terms').checked;

            const isValid = validateEmail(email) && 
                           validatePassword(password) && 
                           country && 
                           validatePhone(phone) && 
                           validateUID(uid) && 
                           terms;

            submitBtn.disabled = !isValid;
        }

        // Add event listeners to all form fields
        ['email', 'password', 'country', 'phone', 'uid_freefire', 'terms'].forEach(id => {
            const element = document.getElementById(id);
            const eventType = element.type === 'checkbox' ? 'change' : 'input';
            element.addEventListener(eventType, checkFormValidity);
        });

        // Update phone code based on country
        document.getElementById('country').addEventListener('change', (e) => {
            const phoneCodeSelect = document.getElementById('phone-code');
            const countryToCodes = {
                'BJ': '+229', 'BF': '+226', 'CI': '+225', 'GW': '+245',
                'ML': '+223', 'NE': '+227', 'NG': '+234', 'SN': '+221',
                'TG': '+228', 'FR': '+33'
            };
            
            const code = countryToCodes[e.target.value];
            if (code) {
                phoneCodeSelect.value = code;
            }
        });

        // Show toast function
        function showToast(type, message) {
            const toast = type === 'success' ? successToast : errorToast;
            const messageEl = type === 'success' ? 
                document.getElementById('success-message') : 
                document.getElementById('error-message');
            
            messageEl.textContent = message;
            toast.classList.remove('hidden');
            
            setTimeout(() => {
                toast.classList.add('hidden');
            }, 3000);
        }

        // Form submission
        form.addEventListener('submit', async (e) => {
            e.preventDefault();
            
            submitBtn.disabled = true;
            submitText.textContent = 'Création en cours...';
            loadingSpinner.classList.remove('hidden');

            // Simulate API call
            try {
                await new Promise(resolve => setTimeout(resolve, 2000));
                
                // For demo - simulate success
                showToast('success', 'Compte créé avec succès ! Vérifiez votre email.');
                
                setTimeout(() => {
                    window.location.href = 'connexion.html';
                }, 2000);
                
            } catch (error) {
                showToast('error', 'Erreur lors de la création du compte. Veuillez réessayer.');
            } finally {
                submitBtn.disabled = false;
                submitText.textContent = 'Créer mon compte';
                loadingSpinner.classList.add('hidden');
            }
        });

        // Login link
        document.getElementById('login-link').addEventListener('click', () => {
            window.location.href = 'connexion.html';
        });

        // Terms links (placeholder)
        document.querySelectorAll('[class*="underline"]').forEach(link => {
            if (link.textContent.includes('Conditions') || link.textContent.includes('Politique')) {
                link.addEventListener('click', () => {
                    alert('Fonctionnalité à implémenter : ' + link.textContent);
                });
            }
        });
    </script>
</body>
</html>
