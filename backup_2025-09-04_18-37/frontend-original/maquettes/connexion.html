<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8">
    <title>Connexion — Plateforme Tournois &amp; Items</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body class="bg-neutral-950 text-neutral-100 antialiased selection:bg-indigo-500/30 selection:text-indigo-200">
    <!-- Background pattern -->
    <div class="min-h-screen relative overflow-hidden">
        <!-- Gradient background -->
        <div class="absolute inset-0 bg-[radial-gradient(ellipse_at_top,rgba(99,102,241,0.1),transparent_50%)]"></div>
        
        <!-- Content -->
        <div class="relative z-10 min-h-screen flex items-center justify-center p-4">
            <!-- Login Card -->
            <div class="w-full max-w-md">
                <!-- Card -->
                <div class="bg-white/5 backdrop-blur-sm border border-white/10 rounded-2xl p-8 shadow-2xl">
                    <!-- Header -->
                    <div class="text-center mb-8">
                        <!-- Logo -->
                        <div class="flex justify-center mb-4">
                            <div class="h-12 w-12 rounded-xl bg-indigo-500/10 ring-1 ring-indigo-400/20 grid place-items-center">
                                <span class="text-lg font-bold text-indigo-300 tracking-tight">FF</span>
                            </div>
                        </div>
                        
                        <h1 class="text-2xl font-semibold tracking-tight mb-2">Connexion</h1>
                        <p class="text-neutral-400 text-sm">Ravi de vous revoir ! Accédez à votre compte.</p>
                    </div>

                    <!-- Error Alert -->
                    <div id="error-alert" class="hidden mb-6 p-4 rounded-lg bg-red-500/10 border border-red-400/20">
                        <div class="flex items-center gap-2 text-red-300">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-alert-circle flex-shrink-0">
                                <circle cx="12" cy="12" r="10"></circle>
                                <line x1="12" x2="12" y1="8" y2="12"></line>
                                <line x1="12" x2="12.01" y1="16" y2="16"></line>
                            </svg>
                            <div>
                                <p class="font-medium text-sm">Erreur</p>
                                <p class="text-sm" id="error-message">Vos identifiants sont incorrects.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Form -->
                    <form id="login-form" class="space-y-6">
                        <!-- Email Field -->
                        <div>
                            <label for="email" class="block text-sm font-medium text-neutral-300 mb-2">Email</label>
                            <input
                                type="email"
                                id="email"
                                name="email"
                                required
                                autocomplete="email"
                                class="w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-sm placeholder:text-neutral-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-colors"
                                placeholder="votre@email.com"
                            />
                            <div id="email-error" class="hidden mt-2 text-sm text-red-400"></div>
                        </div>

                        <!-- Password Field -->
                        <div>
                            <div class="flex items-center justify-between mb-2">
                                <label for="password" class="text-sm font-medium text-neutral-300">Mot de passe</label>
                                <button
                                    type="button"
                                    class="text-sm text-indigo-400 hover:text-indigo-300 transition-colors"
                                    id="forgot-password"
                                >
                                    Mot de passe oublié ?
                                </button>
                            </div>
                            <div class="relative">
                                <input
                                    type="password"
                                    id="password"
                                    name="password"
                                    required
                                    autocomplete="current-password"
                                    class="w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-sm placeholder:text-neutral-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-colors pr-12"
                                    placeholder="Votre mot de passe"
                                />
                                <button
                                    type="button"
                                    id="toggle-password"
                                    class="absolute right-3 top-1/2 -translate-y-1/2 text-neutral-400 hover:text-neutral-300 transition-colors"
                                >
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-eye" id="eye-open">
                                        <path d="M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"></path>
                                        <circle cx="12" cy="12" r="3"></circle>
                                    </svg>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-eye-off hidden" id="eye-closed">
                                        <path d="M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49"></path>
                                        <path d="M14.084 14.158a3 3 0 0 1-4.242-4.242"></path>
                                        <path d="M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143"></path>
                                        <path d="m2 2 20 20"></path>
                                    </svg>
                                </button>
                            </div>
                            <div id="password-error" class="hidden mt-2 text-sm text-red-400"></div>
                        </div>

                        <!-- Remember Me -->
                        <div class="flex items-center">
                            <input
                                type="checkbox"
                                id="remember"
                                name="remember"
                                class="h-4 w-4 rounded border border-white/10 bg-white/5 text-indigo-600 focus:ring-indigo-500 focus:ring-2"
                            />
                            <label for="remember" class="ml-2 text-sm text-neutral-300">
                                Se souvenir de moi
                            </label>
                        </div>

                        <!-- Submit Button -->
                        <button
                            type="submit"
                            id="submit-btn"
                            class="w-full bg-indigo-600 hover:bg-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-neutral-950 text-white font-medium py-3 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center gap-2"
                        >
                            <span id="submit-text">Se connecter</span>
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-loader-2 animate-spin hidden" id="loading-spinner">
                                <path d="M21 12a9 9 0 1 1-6.219-8.56"></path>
                            </svg>
                        </button>
                    </form>

                    <!-- Divider -->
                    <div class="mt-8 pt-6 border-t border-white/10">
                        <p class="text-center text-sm text-neutral-400">
                            Pas encore de compte ?
                            <button
                                type="button"
                                id="create-account"
                                class="text-indigo-400 hover:text-indigo-300 font-medium transition-colors ml-1"
                            >
                                Créer un compte
                            </button>
                        </p>
                    </div>
                </div>

                <!-- Footer -->
                <div class="mt-8 text-center">
                    <p class="text-xs text-neutral-500">© 2024 Arthur project. Tous droits réservés.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Success Toast -->
    <div id="success-toast" class="pointer-events-none fixed top-4 right-4 hidden z-50">
        <div class="rounded-lg bg-emerald-500/10 border border-emerald-400/20 px-4 py-3 text-sm flex items-center gap-3 backdrop-blur-sm">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-check-circle text-emerald-300 flex-shrink-0">
                <path d="M21.801 10A10 10 0 1 1 17 3.335"></path>
                <path d="m9 11 3 3L22 4"></path>
            </svg>
            <span class="text-emerald-200" id="success-message">Connexion réussie !</span>
        </div>
    </div>

    <script>
        // Initialize Lucide icons
        document.addEventListener('DOMContentLoaded', () => {
            if (window.lucide) {
                lucide.createIcons({ attrs: { 'stroke-width': 1.5 } });
            }
        });

        // Form elements
        const loginForm = document.getElementById('login-form');
        const emailInput = document.getElementById('email');
        const passwordInput = document.getElementById('password');
        const submitBtn = document.getElementById('submit-btn');
        const submitText = document.getElementById('submit-text');
        const loadingSpinner = document.getElementById('loading-spinner');
        const errorAlert = document.getElementById('error-alert');
        const errorMessage = document.getElementById('error-message');
        const successToast = document.getElementById('success-toast');

        // Password toggle
        const togglePasswordBtn = document.getElementById('toggle-password');
        const eyeOpen = document.getElementById('eye-open');
        const eyeClosed = document.getElementById('eye-closed');

        togglePasswordBtn.addEventListener('click', () => {
            const isPassword = passwordInput.type === 'password';
            passwordInput.type = isPassword ? 'text' : 'password';
            eyeOpen.classList.toggle('hidden');
            eyeClosed.classList.toggle('hidden');
        });

        // Form validation
        function validateEmail(email) {
            const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return re.test(email);
        }

        function validatePassword(password) {
            return password.length >= 6;
        }

        function showFieldError(fieldId, message) {
            const errorDiv = document.getElementById(fieldId + '-error');
            const inputField = document.getElementById(fieldId);
            
            errorDiv.textContent = message;
            errorDiv.classList.remove('hidden');
            inputField.classList.add('border-red-400', 'focus:ring-red-500');
            inputField.classList.remove('border-white/10', 'focus:ring-indigo-500');
        }

        function hideFieldError(fieldId) {
            const errorDiv = document.getElementById(fieldId + '-error');
            const inputField = document.getElementById(fieldId);
            
            errorDiv.classList.add('hidden');
            inputField.classList.remove('border-red-400', 'focus:ring-red-500');
            inputField.classList.add('border-white/10', 'focus:ring-indigo-500');
        }

        function showGlobalError(message) {
            errorMessage.textContent = message;
            errorAlert.classList.remove('hidden');
            errorAlert.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }

        function hideGlobalError() {
            errorAlert.classList.add('hidden');
        }

        function showSuccess(message) {
            document.getElementById('success-message').textContent = message;
            successToast.classList.remove('hidden');
            setTimeout(() => {
                successToast.classList.add('hidden');
            }, 3000);
        }

        function setLoading(loading) {
            submitBtn.disabled = loading;
            if (loading) {
                submitText.textContent = 'Connexion...';
                loadingSpinner.classList.remove('hidden');
                submitBtn.classList.add('opacity-75');
            } else {
                submitText.textContent = 'Se connecter';
                loadingSpinner.classList.add('hidden');
                submitBtn.classList.remove('opacity-75');
            }
        }

        // Clear errors on input
        emailInput.addEventListener('input', () => {
            hideFieldError('email');
            hideGlobalError();
        });

        passwordInput.addEventListener('input', () => {
            hideFieldError('password');
            hideGlobalError();
        });

        // Form submission
        loginForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            
            // Hide previous errors
            hideFieldError('email');
            hideFieldError('password');
            hideGlobalError();
            
            const email = emailInput.value.trim();
            const password = passwordInput.value;
            let hasErrors = false;

            // Validate email
            if (!email) {
                showFieldError('email', 'L\'email est requis.');
                hasErrors = true;
            } else if (!validateEmail(email)) {
                showFieldError('email', 'Format d\'email invalide.');
                hasErrors = true;
            }

            // Validate password
            if (!password) {
                showFieldError('password', 'Le mot de passe est requis.');
                hasErrors = true;
            } else if (!validatePassword(password)) {
                showFieldError('password', 'Le mot de passe doit contenir au moins 6 caractères.');
                hasErrors = true;
            }

            if (hasErrors) {
                return;
            }

            // Simulate login process
            setLoading(true);

            try {
                // Simulate API call
                await new Promise(resolve => setTimeout(resolve, 1500));

                // For demo purposes, accept specific credentials or any valid format
                if (email === 'demo@freefire.com' && password === 'demo123') {
                    // Success
                    showSuccess('Connexion réussie ! Redirection...');
                    
                    setTimeout(() => {
                        // Redirect to main app
                        window.location.href = 'maquette.html';
                    }, 1500);
                    
                } else {
                    // Error
                    showGlobalError('Email ou mot de passe incorrect. Essayez demo@freefire.com / demo123');
                }
                
            } catch (error) {
                showGlobalError('Une erreur est survenue. Veuillez réessayer.');
            } finally {
                setLoading(false);
            }
        });

        // Forgot password action
        document.getElementById('forgot-password').addEventListener('click', () => {
            alert('Fonctionnalité "Mot de passe oublié" en cours de développement.');
        });

        // Create account action
        document.getElementById('create-account').addEventListener('click', () => {
            alert('Fonctionnalité "Créer un compte" en cours de développement.');
        });

        // Demo credentials hint
        setTimeout(() => {
            if (!errorAlert.classList.contains('hidden')) return;
            
            const hint = document.createElement('div');
            hint.className = 'fixed bottom-4 left-4 bg-indigo-500/10 border border-indigo-400/20 rounded-lg px-4 py-3 text-sm text-indigo-300 max-w-xs z-50';
            hint.innerHTML = `
                <div class="flex items-start gap-2">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-info flex-shrink-0 mt-0.5">
                        <circle cx="12" cy="12" r="10"></circle>
                        <path d="M12 16v-4"></path>
                        <path d="M12 8h.01"></path>
                    </svg>
                    <div>
                        <p class="font-medium">Demo</p>
                        <p class="text-xs opacity-90">Email: demo@freefire.com<br>Mot de passe: demo123</p>
                    </div>
                </div>
            `;
            document.body.appendChild(hint);
            
            // Auto hide hint after 5 seconds
            setTimeout(() => {
                hint.style.transition = 'opacity 0.3s ease';
                hint.style.opacity = '0';
                setTimeout(() => hint.remove(), 300);
            }, 5000);
        }, 2000);
    </script>
</body>
</html>
